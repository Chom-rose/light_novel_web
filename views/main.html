<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
  />
</head>
<style>
    body {
        font-family: 'Arial', sans-serif;
        background-color: #f9f9f9;
        margin: 0;
        padding: 0;
    }
    header {
        background-color: #ffffff;
        border-bottom: 1px solid #e5e7eb;
        padding: 10px 20px;
    }
    nav div:first-child {
        display: flex;
        align-items: center;
        justify-content: space-evenly;
    }
    nav div:first-child div {
        margin: 0 10px;
    }
    nav div:first-child .logo {
        font-size: 1.5em;
        font-weight: bold;
    }
    nav div:first-child .user {
        background-color: #e5e7eb;
        padding: 5px 10px;
        border-radius: 5px;
    }
    nav div:last-child ul {
        display: flex;
        list-style-type: none;
        padding: 0;
        margin: 0;
    }
    nav div:last-child ul li {
        margin-right: 20px;
    }
    nav div:last-child ul li a {
        text-decoration: none;
        color: #374151;
        font-weight: bold;
    }
    main {
        max-width: 1200px;
        margin: 20px auto;
        padding: 0 20px;
    }
    main > div {
        display: flex;
        justify-content: flex-end;
        align-items: center;
    }
    main > div button {
        background-color: #4f46e5;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
    }
    section {
        margin-top: 30px;
    }
    section h3 {
        font-size: 1.25em;
        margin-bottom: 10px;
        font-weight: bold;
    }
    section .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 20px;
    }
    .nav-links {
        display: flex;
        align-items: center;
        gap: 15px;
        margin: 0;
        padding: 0;
    }
    .coin-balance {
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        justify-content: flex-end;
    }
    .coin-balance span {
        font-weight: bold;
        margin-right: 10px;
        
    }
    footer {
        background-color: #ffffff;
        border-top: 1px solid #e5e7eb;
        padding: 20px;
        text-align: center;
        color: #6b7280;
        font-size: 0.875em;
    }
    footer a {
        color: #4f46e5;
        text-decoration: none;
    }
    footer a:hover {
        text-decoration: underline;
    }
    span a {
        text-decoration: none;
        color: inherit;
        font-weight: bold;
    }
</style>
<body>
    <header>
        <nav>
            <div>
                <div class="logo">logo</div>
                <div><a href="">‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢</a></div>
                <div><a href="">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏•‡∏á‡∏≤‡∏ô</a></div>
                <div><button>Search</button></div>
                <div class="user">user</div>
            </div>
            <div>
                <ul class="nav-links">
                    <li><span><a href="">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a></span></li>
                    <li><a href="">‡∏ï‡∏¥‡∏î‡∏ó‡πá‡∏≠‡∏õ</a></li>
                    <li><a href="">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</a></li>
                    <div class="coin-balance">
                      <span>Coin: 100 <button><a href="">‡πÄ‡∏ï‡∏¥‡∏°coin</a></button></span> 
                    </div>
                </ul>
                
            </div>
        </nav>
    </header>
    
    <main>
        <section class="max-w-7xl mx-auto px-4 py-6">
            <h2 class="text-xl font-bold mb-4">‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°</h2>
            <div class="swiper mySwiper">
              <div class="swiper-wrapper">
                <!-- Slide 1 -->
                <div class="swiper-slide">
                  <div class="relative">
                    <img src="https://picsum.photos/800/400?random=1" 
                         class="w-full rounded-xl" alt="Novel 1">
                    <div class="absolute bottom-3 left-3 bg-black/60 text-white px-3 py-1 rounded-lg">
                      ‡∏´‡∏≠‡∏Ñ‡∏≠‡∏¢‡∏Å‡∏£‡∏∞‡∏à‡∏Å
                    </div>
                  </div>
                </div>
                <!-- Slide 2 -->
                <div class="swiper-slide">
                  <div class="relative">
                    <img src="https://picsum.photos/800/400?random=2" 
                         class="w-full rounded-xl" alt="Novel 2">
                    <div class="absolute bottom-3 left-3 bg-black/60 text-white px-3 py-1 rounded-lg">
                      ‡πÅ‡∏ä‡∏ï‡∏•‡∏±‡∏ö‡∏â‡∏ö‡∏±‡∏ö‡∏£‡∏±‡∏Å
                    </div>
                  </div>
                </div>
                <!-- Slide 3 -->
                <div class="swiper-slide">
                  <div class="relative">
                    <img src="https://picsum.photos/800/400?random=3" 
                         class="w-full rounded-xl" alt="Novel 3">
                    <div class="absolute bottom-3 left-3 bg-black/60 text-white px-3 py-1 rounded-lg">
                      ‡∏Å‡∏≤‡∏•‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏≠‡∏≤‡∏ì‡∏≤‡∏à‡∏±‡∏Å‡∏£‡∏ä‡∏≤
                    </div>
                  </div>
                </div>
              </div>
              <!-- Navigation -->
              <div class="swiper-button-next"></div>
              <div class="swiper-button-prev"></div>
              <!-- Pagination -->
              <div class="swiper-pagination"></div>
            </div>
          </section>
        
          
        
            <!-- Latest Updates -->
            <section class="max-w-7xl mx-auto px-4 py-10 space-y-12">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold">‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà</h3>
                <a href="#" class="text-sm text-indigo-600 hover:underline">‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</a>
              </div>
              <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4">
                <article class="bg-white rounded-xl shadow p-2">
                  <img src="https://picsum.photos/200/300?random=1" alt="" class="rounded-lg">
                  <h4 class="font-semibold mt-2">‡∏´‡∏≠‡∏Ñ‡∏≠‡∏¢‡∏Å‡∏£‡∏∞‡∏à‡∏Å</h4>
                  <p class="text-sm text-zinc-500">Mina K.</p>
                </article>
                <article class="bg-white rounded-xl shadow p-2">
                  <img src="https://picsum.photos/200/300?random=2" alt="" class="rounded-lg">
                  <h4 class="font-semibold mt-2">‡πÅ‡∏ä‡∏ï‡∏•‡∏±‡∏ö‡∏â‡∏ö‡∏±‡∏ö‡∏£‡∏±‡∏Å</h4>
                  <p class="text-sm text-zinc-500">tenten</p>
                </article>
                <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ -->
              </div>
            </section>
        
            <!-- Trending -->
            <section>
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏≤‡πÅ‡∏£‡∏á</h3>
                <a href="#" class="text-sm text-indigo-600 hover:underline">‡∏î‡∏π‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</a>
              </div>
              <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4">
                <article class="bg-white rounded-xl shadow p-2">
                  <img src="https://picsum.photos/200/300?random=3" alt="" class="rounded-lg">
                  <h4 class="font-semibold mt-2">‡∏Å‡∏≤‡∏•‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏≠‡∏≤‡∏ì‡∏≤‡∏à‡∏±‡∏Å‡∏£‡∏ä‡∏≤</h4>
                  <p class="text-sm text-zinc-500">Sora</p>
                </article>
                <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ -->
              </div>
            </section>
        
            <!-- Categories -->
            <section>
              <h3 class="text-xl font-bold mb-4">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°</h3>
              <div class="flex flex-wrap gap-2">
                <span class="px-3 py-1 bg-zinc-100 rounded-full"><a href="">#‡πÅ‡∏ü‡∏ô‡∏ï‡∏≤‡∏ã‡∏µ</a></span>
                <span class="px-3 py-1 bg-zinc-100 rounded-full"><a href="">#‡πÇ‡∏£‡πÅ‡∏°‡∏ô‡∏ã‡πå</a></span>
                <span class="px-3 py-1 bg-zinc-100 rounded-full"><a href="">#‡∏ß‡∏≤‡∏¢</a></span>
                <span class="px-3 py-1 bg-zinc-100 rounded-full"><a href="">#‡πÑ‡∏ã‡πÑ‡∏ü</a></span>
              </div>
            </section>
        
            <!-- Ranking -->
            <section>
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold">‡∏à‡∏±‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏¢‡∏≠‡∏î‡∏≠‡πà‡∏≤‡∏ô</h3>
                <a href="#" class="text-sm text-indigo-600 hover:underline">‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</a>
              </div>
              <ol class="space-y-2">
                <li class="flex items-center gap-3 bg-white p-3 rounded-lg shadow">
                  <span class="w-6 text-center font-bold">1</span>
                  <img src="https://picsum.photos/60/90?random=4" class="rounded-md" alt="">
                  <div>
                    <p class="font-semibold">‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç 404</p>
                    <p class="text-sm text-zinc-500">Null</p>
                  </div>
                  <span class="ml-auto text-sm text-zinc-600">üëÅ 312,340</span>
                </li>
                <li class="flex items-center gap-3 bg-white p-3 rounded-lg shadow">
                  <span class="w-6 text-center font-bold">2</span>
                  <img src="https://picsum.photos/60/90?random3" class="rounded-md" alt="">
                  <div>
                    <p class="font-semibold">‡∏Å‡∏≤‡∏•‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏≠‡∏≤‡∏ì‡∏≤‡∏à‡∏±‡∏Å‡∏£‡∏ä‡∏≤</p>
                    <p class="text-sm text-zinc-500">Null</p>
                  </div>
                  <span class="ml-auto text-sm text-zinc-600">üëÅ 312,340</span>
                </li>
              </ol>
            </section>
            <!-- CRUD Playground -->
            <section class="max-w-7xl mx-auto px-4 py-10">
              <h3 class="text-xl font-bold mb-4">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢ (CRUD Demo)</h3>
            
              <!-- Create / Update Form -->
              <form id="novelForm" class="bg-white rounded-xl shadow p-4 space-y-3">
                <input type="hidden" id="novelId" />
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                  <div>
                    <label class="text-sm font-semibold">‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢ *</label>
                    <input id="name" class="w-full border rounded px-3 py-2" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏≠‡∏Ñ‡∏≠‡∏¢‡∏Å‡∏£‡∏∞‡∏à‡∏Å" required />
                  </div>
                  <div>
                    <label class="text-sm font-semibold">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà *</label>
                    <input id="category" class="w-full border rounded px-3 py-2" placeholder="‡πÅ‡∏ü‡∏ô‡∏ï‡∏≤‡∏ã‡∏µ / ‡πÇ‡∏£‡πÅ‡∏°‡∏ô‡∏ã‡πå" required />
                  </div>
                  <div>
                    <label class="text-sm font-semibold">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô</label>
                    <input id="author" class="w-full border rounded px-3 py-2" placeholder="‡πÄ‡∏ä‡πà‡∏ô Mina K." />
                  </div>
                  <div class="md:col-span-2">
                    <label class="text-sm font-semibold">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</label>
                    <textarea id="description" class="w-full border rounded px-3 py-2" rows="3" placeholder="‡∏Ñ‡∏≥‡πÇ‡∏õ‡∏£‡∏¢‡∏™‡∏±‡πâ‡∏ô ‡πÜ"></textarea>
                  </div>
                </div>
                <div class="flex gap-2">
                  <button type="submit" class="bg-indigo-600 text-white px-4 py-2 rounded">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                  <button type="button" id="resetBtn" class="border px-4 py-2 rounded">‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°</button>
                </div>
              </form>
            
              <!-- Table -->
              <div class="mt-6 bg-white rounded-xl shadow overflow-auto">
                <table class="min-w-full text-sm">
                  <thead class="bg-zinc-50">
                    <tr>
                      <th class="text-left p-3">‡∏ä‡∏∑‡πà‡∏≠</th>
                      <th class="text-left p-3">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</th>
                      <th class="text-left p-3">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô</th>
                      <th class="text-left p-3">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th>
                      <th class="text-right p-3">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                    </tr>
                  </thead>
                  <tbody id="novelTableBody"></tbody>
                </table>
              </div>
            </section>
    </main>
    <footer>
        <div class="max-w-7xl mx-auto px-4 py-6 text-center text-sm text-zinc-500">
          &copy; 2025 cat fat. ‡∏™‡∏á‡∏ß‡∏ô‡∏•‡∏¥‡∏Ç‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå.
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
      var swiper = new Swiper(".mySwiper", {
        loop: true,
        autoplay: {
          delay: 3000,
          disableOnInteraction: false,
        },
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
      });
    </script>
    <script>
      const API = {
        LIST: "/light-novel/list",
        CREATE: "/light-novel/create",
        ITEM: (id) => `/light-novel/${id}`,
      };
    
      const form = document.getElementById("novelForm");
      const resetBtn = document.getElementById("resetBtn");
      const tableBody = document.getElementById("novelTableBody");
    
      const $ = (id) => document.getElementById(id);
    
      async function loadList() {
        const res = await fetch(API.LIST);
        const json = await res.json();
        renderTable(json.data || []);
      }
    
      function renderTable(items) {
        tableBody.innerHTML = "";
        items.forEach((it) => {
          const tr = document.createElement("tr");
          tr.className = "border-t";
          tr.innerHTML = `
            <td class="p-3">${escapeHTML(it.name)}</td>
            <td class="p-3">${escapeHTML(it.category)}</td>
            <td class="p-3">${escapeHTML(it.author || "")}</td>
            <td class="p-3">${formatDate(it.updatedAt)}</td>
            <td class="p-3 text-right space-x-2">
              <button class="px-3 py-1 border rounded" data-edit="${it.id}">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
              <button class="px-3 py-1 border rounded text-red-600" data-del="${it.id}">‡∏•‡∏ö</button>
            </td>
          `;
          tableBody.appendChild(tr);
        });
      }
    
      function fillForm(it) {
        $("novelId").value = it.id || "";
        $("name").value = it.name || "";
        $("category").value = it.category || "";
        $("author").value = it.author || "";
        $("description").value = it.description || "";
      }
    
      function clearForm() {
        $("novelId").value = "";
        $("name").value = "";
        $("category").value = "";
        $("author").value = "";
        $("description").value = "";
      }
    
      function formatDate(s) {
        if (!s) return "-";
        const d = new Date(s);
        return d.toLocaleString();
      }
    
      function escapeHTML(s) {
        return String(s || "")
          .replaceAll("&", "&amp;")
          .replaceAll("<", "&lt;")
          .replaceAll(">", "&gt;")
          .replaceAll('"', "&quot;")
          .replaceAll("'", "&#039;");
      }
    
      // Submit (Create / Update)
      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        const id = $("novelId").value.trim();
        const payload = {
          name: $("name").value.trim(),
          category: $("category").value.trim(),
          author: $("author").value.trim(),
          description: $("description").value.trim(),
        };
        if (!payload.name || !payload.category) {
          alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà");
          return;
        }
    
        if (!id) {
          // CREATE
          const res = await fetch(API.CREATE, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload),
          });
          const out = await res.json();
          if (!res.ok) return alert(out.error || "‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
        } else {
          // UPDATE
          const res = await fetch(API.ITEM(id), {
            method: "PUT",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload),
          });
          const out = await res.json();
          if (!res.ok) return alert(out.error || "‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
        }
        clearForm();
        await loadList();
      });
    
      resetBtn.addEventListener("click", clearForm);
    
      // Edit / Delete (Event delegation)
      tableBody.addEventListener("click", async (e) => {
        const editId = e.target.getAttribute("data-edit");
        const delId = e.target.getAttribute("data-del");
    
        if (editId) {
          const res = await fetch(API.ITEM(editId));
          const json = await res.json();
          if (!res.ok) return alert(json.error || "‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
          fillForm(json.data);
        } else if (delId) {
          if (!confirm("‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö?")) return;
          const res = await fetch(API.ITEM(delId), { method: "DELETE" });
          const out = await res.json();
          if (!res.ok) return alert(out.error || "‡∏•‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
          await loadList();
        }
      });
    
      // init
      loadList();
    </script>
</body>
</html>
